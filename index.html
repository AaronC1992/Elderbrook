<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Elderbrook</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div id="game-root">
      <!-- Title Screen -->
      <section id="screen-title" class="screen">
        <div class="panel title-screen">
          <h1 class="title-logo">Elderbrook</h1>
          <p class="title-subtitle">A Tale of Shadows and Steel</p>
          <div class="buttons column title-buttons">
            <button id="title-new-game" class="primary">New Game</button>
            <button id="title-load-game">Load Game</button>
          </div>
        </div>
      </section>

      <!-- Character Creation -->
      <!-- Make character creation visible by default; JS will swap if save loads -->
      <section id="screen-character-creation" class="screen hidden">
        <div class="panel">
          <h1>Elderbrook</h1>
          <h2>Create Your Hero</h2>
          <div class="form-row">
            <label for="cc-name">Name</label>
            <input id="cc-name" type="text" placeholder="Hero" maxlength="16" />
          </div>
          <div class="form-row">
            <label>Class</label>
            <div class="radio-row">
              <label><input type="radio" name="cc-class" value="Warrior" checked /> Warrior</label>
              <label><input type="radio" name="cc-class" value="Mage" /> Mage</label>
              <label><input type="radio" name="cc-class" value="Rogue" /> Rogue</label>
            </div>
          </div>
          <div class="form-row">
            <label>Race</label>
            <div class="radio-row">
              <label><input type="radio" name="cc-race" value="Human" checked /> Human</label>
              <label><input type="radio" name="cc-race" value="Beast" /> Beast</label>
              <label><input type="radio" name="cc-race" value="Elf" /> Elf</label>
              <label><input type="radio" name="cc-race" value="Bug" /> Bug</label>
            </div>
          </div>
          <div class="form-row">
            <label>Distribute Stat Points <span id="cc-points">5</span></label>
            <div class="stats-grid">
              <div class="stat">
                <span>STR</span>
                <div class="stat-controls">
                  <button data-stat="str" data-delta="-1">-</button>
                  <span id="cc-str">1</span>
                  <button data-stat="str" data-delta="1">+</button>
                </div>
              </div>
              <div class="stat">
                <span>DEX</span>
                <div class="stat-controls">
                  <button data-stat="dex" data-delta="-1">-</button>
                  <span id="cc-dex">1</span>
                  <button data-stat="dex" data-delta="1">+</button>
                </div>
              </div>
              <div class="stat">
                <span>INT</span>
                <div class="stat-controls">
                  <button data-stat="int" data-delta="-1">-</button>
                  <span id="cc-int">1</span>
                  <button data-stat="int" data-delta="1">+</button>
                </div>
              </div>
              <div class="stat">
                <span>VIT</span>
                <div class="stat-controls">
                  <button data-stat="vit" data-delta="-1">-</button>
                  <span id="cc-vit">1</span>
                  <button data-stat="vit" data-delta="1">+</button>
                </div>
              </div>
            </div>
          </div>
          <div class="buttons">
            <button id="cc-confirm" class="primary">Confirm</button>
          </div>
        </div>
      </section>

      <!-- Town Screen -->
      <section id="screen-town" class="screen hidden">
        <div class="panel">
          <h1>Elderbrook</h1>
          <div class="row">
            <div>
              <div id="town-player-summary"></div>
              <div id="town-speed-summary" class="values" style="margin-top:6px"></div>
            </div>
            <div class="buttons column">
              <button id="btn-fight" class="primary">Hunt in the Forest</button>
              <button id="btn-cave">Explore the Cave</button>
              <button id="btn-elf-grove">Visit Elf Grove</button>
              <button id="btn-talents">Skill Tree</button>
              <button id="btn-crafting">Crafting</button>
              <button id="btn-weapon-shop">Visit Weapon Shop</button>
              <button id="btn-armor-shop">Visit Armor Shop</button>
              <button id="btn-train">Train Stats</button>
              <button id="btn-rest">Rest at Inn</button>
              <button id="btn-view-char">Character / Equipment</button>
              <button id="btn-quests">Quest Board</button>
              <button id="btn-boss">Enter Cave Depths (Boss)</button>
              <button id="btn-relic-shop">Relic Merchant</button>
               <button id="btn-ruins" class="hidden">Enter Ancient Ruins</button>
              <button id="btn-shadow-portal" class="hidden">Shadow Portal (Group)</button>
              <button id="btn-settings">Settings</button>
              <div class="row gap">
                <button id="btn-save">Save</button>
                <button id="btn-load">Load</button>
                <button id="btn-reset" class="danger">Reset</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Battle Screen -->
      <section id="screen-battle" class="screen hidden">
        <div class="panel">
          <div class="battle-top">
            <div class="combatant player">
              <div class="name" id="player-name"></div>
              <div class="meta"><span id="player-lv"></span></div>
              <div class="bar hp"><div id="player-hp-bar"></div></div>
              <div class="bar mp"><div id="player-mp-bar"></div></div>
              <div class="bar cd"><div id="player-cd-bar"></div></div>
              <div class="bar momentum"><div id="player-momentum-bar"></div></div>
              <div class="values" id="player-speed-text"></div>
              <div class="values"><span id="player-hp-text"></span> â€¢ <span id="player-mp-text"></span></div>
            </div>
            <div class="combatant enemy">
              <div class="name" id="enemy-name"></div>
              <div class="meta"><span id="enemy-lv"></span></div>
              <div class="bar hp"><div id="enemy-hp-bar"></div></div>
              <div class="bar cd"><div id="enemy-cd-bar"></div></div>
              <div class="values" id="enemy-speed-text"></div>
              <div class="values"><span id="enemy-hp-text"></span></div>
            </div>
          </div>
          <div id="multi-enemies" class="hidden group-enemies"></div>
          <div class="battle-actions">
            <button id="act-attack" class="primary">Attack</button>
            <button id="act-skill1" class="hidden">Skill 1</button>
            <button id="act-skill2" class="hidden">Skill 2</button>
            <button id="act-item" disabled>Item</button>
            <button id="act-run">Run</button>
          </div>
          <div class="battle-log">
            <ul id="battle-log"></ul>
          </div>
          <div class="row right">
            <button id="btn-back-to-town" class="hidden">Return to Town</button>
          </div>
        </div>
      </section>

      <!-- Shop Screen -->
      <section id="screen-shop" class="screen hidden">
        <div class="panel">
          <h2 id="shop-title">Shop</h2>
          <div id="shop-content"></div>
          <div class="row right"><button id="shop-exit">Back to Town</button></div>
        </div>
      </section>

      <!-- Training Screen -->
      <section id="screen-training" class="screen hidden">
        <div class="panel">
          <h2>Training Grounds</h2>
          <div id="training-content"></div>
          <div class="row right"><button id="training-exit">Back</button></div>
        </div>
      </section>

      <!-- Quest Board Screen -->
      <section id="screen-quests" class="screen hidden">
        <div class="panel">
          <h2>Quest Board</h2>
          <div id="quests-content"></div>
          <div class="row right"><button id="quests-exit">Back</button></div>
        </div>
      </section>

      <!-- Talents Screen -->
      <section id="screen-talents" class="screen hidden">
        <div class="panel">
          <h2>Skill & Talent Tree</h2>
          <div id="talents-tabs" class="row">
            <button id="talents-tab-class">Class Talents</button>
            <button id="talents-tab-race">Race Talents</button>
          </div>
          <div id="talents-content"></div>
          <div class="row right"><button id="talents-back">Back to Town</button></div>
        </div>
      </section>

      <!-- Crafting Screen -->
      <section id="screen-crafting" class="screen hidden">
        <div class="panel">
          <h2>Crafting Workshop</h2>
          <div id="crafting-content"></div>
          <div class="row right"><button id="crafting-exit">Back</button></div>
        </div>
      </section>

      <!-- Settings Screen -->
      <section id="screen-settings" class="screen hidden">
        <div class="panel">
          <h2>Settings</h2>
          <div class="form-row">
            <label>
              <input type="checkbox" id="setting-sound" checked />
              Enable Sound Effects
            </label>
          </div>
          <div class="form-row">
            <label>
              <input type="checkbox" id="setting-music" checked />
              Enable Music
            </label>
          </div>
          <div class="form-row">
            <label for="setting-sound-volume">Sound Volume</label>
            <input type="range" id="setting-sound-volume" min="0" max="100" value="70" />
            <span id="sound-volume-display">70%</span>
          </div>
          <div class="form-row">
            <label>
              <input type="checkbox" id="setting-animations" checked />
              Enable Background Animations
            </label>
          </div>
          <div class="row right"><button id="settings-back">Back to Town</button></div>
        </div>
      </section>

      <!-- Message Modal -->
      <section id="screen-message" class="modal hidden">
        <div class="panel modal-content">
          <div id="message-text"></div>
          <div class="row right"><button id="message-ok">OK</button></div>
        </div>
      </section>
    </div>

    <script type="module" src="./src/main.js"></script>
  </body>
  </html>
